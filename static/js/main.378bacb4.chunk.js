(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{11:function(e,t,a){e.exports={ImageGalleryItem:"imageGalleryItem_ImageGalleryItem__3KOHO",ImageGalleryItemImage:"imageGalleryItem_ImageGalleryItemImage__3N8q7"}},12:function(e,t,a){e.exports={Overlay:"modal_Overlay__1OmXj",Modal:"modal_Modal__fZgox"}},22:function(e,t,a){e.exports={ImageGallery:"imageGallery_ImageGallery__1fS-l"}},23:function(e,t,a){e.exports={Button:"button_Button__2hNM5"}},25:function(e,t,a){e.exports={Container:"App_Container__CL1xa"}},5:function(e,t,a){e.exports={Searchbar:"searchbar_Searchbar__1cXK8",SearchForm:"searchbar_SearchForm__3DGKE",SearchFormButton:"searchbar_SearchFormButton__2pHpp",SearchFormButtonLabel:"searchbar_SearchFormButtonLabel__23MJP",SearchFormInput:"searchbar_SearchFormInput__1ytCq"}},71:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),r=a(7),o=a.n(r),i=a(13),s=a(4),u=a(10),l=a.n(u);l.a.defaults.baseURL="https://pixabay.com/api/";var m=function(e){var t=e.searchQuery,a=void 0===t?"":t,c=e.currentPage,n=void 0===c?1:c,r=e.pageSize,o=void 0===r?12:r;return l.a.get("/?key=".concat("21824668-10aeb8c8af54ec25684dd6884","&q=").concat(a,"&page=").concat(n,"&image_type=photo&orientation=horizontal&per_page=").concat(o)).then((function(e){return e.data.hits}))},b=a(5),h=a.n(b),j=a(1);function d(e){var t=e.onSubmit,a=Object(c.useState)(""),n=Object(s.a)(a,2),r=n[0],o=n[1];return Object(j.jsx)("header",{className:h.a.Searchbar,children:Object(j.jsxs)("form",{className:h.a.SearchForm,onSubmit:function(e){e.preventDefault(),t(r),o("")},children:[Object(j.jsx)("button",{type:"submit",className:h.a.SearchFormButton,children:Object(j.jsx)("span",{className:h.a.SearchFormButtonLabel,children:"Search"})}),Object(j.jsx)("input",{className:h.a.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:r,onChange:function(e){var t=e.currentTarget.value.toLowerCase().trim();o(t)}})]})})}var f=a(22),O=a.n(f),p=function(e){var t=e.children;return Object(j.jsx)("ul",{className:O.a.ImageGallery,children:t})},g=a(11),_=a.n(g),x=function(e){e.hitsId;var t=e.srcWebformat,a=e.onClick;return Object(j.jsx)("li",{className:_.a.ImageGalleryItem,onClick:a,children:Object(j.jsx)("img",{src:t,alt:"",className:_.a.ImageGalleryItemImage})})},v=a(23),S=a.n(v),y=function(e){var t=e.onClick;return Object(j.jsx)("button",{type:"button",onClick:t,className:S.a.Button,children:"Load more"})},I=a(12),C=a.n(I),F=document.querySelector("#modal-root");function w(e){var t=e.children,a=e.onClose,n=function(e){"Escape"===e.code&&a()};return Object(c.useEffect)((function(){return window.addEventListener("keydown",n),function(){window.removeEventListener("keydown",n)}})),Object(r.createPortal)(Object(j.jsx)("div",{className:C.a.Overlay,onClick:function(e){e.currentTarget===e.target&&a()},children:Object(j.jsx)("div",{className:C.a.Modal,children:t})}),F)}var k=a(24),N=a.n(k),G=function(){return Object(j.jsx)(N.a,{type:"ThreeDots",color:"#00BFFF",height:80,width:80})},B=a(25),L=a.n(B);function E(){var e=Object(c.useState)([]),t=Object(s.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(""),o=Object(s.a)(r,2),u=o[0],l=o[1],b=Object(c.useState)(1),h=Object(s.a)(b,2),f=h[0],O=h[1],g=Object(c.useState)(!1),_=Object(s.a)(g,2),v=_[0],S=_[1],I=Object(c.useState)(null),C=Object(s.a)(I,2),F=C[0],k=C[1],N=Object(c.useState)(""),B=Object(s.a)(N,2),E=B[0],M=B[1],q=Object(c.useState)(!1),P=Object(s.a)(q,2),T=P[0],D=P[1];Object(c.useEffect)((function(){u&&H()}),[u]),Object(c.useEffect)((function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}),[a]);var H=function(){var e={searchQuery:u,currentPage:f};S(!0),m(e).then((function(e){return n([].concat(Object(i.a)(a),Object(i.a)(e)))}),O(f+1)).catch((function(e){return k(e)})).finally((function(){return S(!1)}))},J=function(){D((function(e){return!e}))},K=a.length>0&&!v;return Object(j.jsxs)("div",{className:L.a.Container,children:[Object(j.jsx)(d,{onSubmit:function(e){l(e),n([]),O(1),k(null)}}),F&&Object(j.jsx)("h1",{children:"\u041e\u0448\u0438\u0431\u043a\u0430"}),Object(j.jsx)(p,{children:a.map((function(e){var t=e.id,a=e.webformatURL,c=e.largeImageURL;return Object(j.jsx)(x,{srcWebformat:a,pictureId:t,onClick:function(){return M(c),void J()}},t)}))}),v&&Object(j.jsx)(G,{}),K&&Object(j.jsx)(y,{onClick:H}),T&&Object(j.jsx)(w,{onClose:J,children:Object(j.jsx)("img",{src:E,alt:""})})]})}a(69),a(70);o.a.render(Object(j.jsx)(n.a.StrictMode,{children:Object(j.jsx)(E,{})}),document.getElementById("root"))}},[[71,1,2]]]);
//# sourceMappingURL=main.378bacb4.chunk.js.map